# Veloera æ¶æ„è§’è‰²é‡æ–°åˆ†æ

## ğŸ¯ Veloera çš„çœŸå®è§’è‰²

**Veloera ä¸æ˜¯ç®€å•çš„ OpenAI å…¼å®¹å±‚ï¼Œè€Œæ˜¯æ™ºèƒ½ API è½¬æ¢å’Œè·¯ç”±æ¢çº½**

## ğŸ“‹ æ­£ç¡®çš„æ¶æ„ç†è§£

### Veloera çš„æ ¸å¿ƒèŒè´£
1. **å¤šæä¾›å•†æ¥å…¥**: æ¥å…¥ BigGLMã€DeepSeekã€Kimiã€OpenAI ç­‰å„ç§ Provider
2. **API æ ¼å¼è½¬æ¢**: å°†ä¸åŒ Provider çš„ API æ ¼å¼è½¬æ¢ä¸ºç»Ÿä¸€çš„ OpenAI/Anthropic å…¼å®¹æ ¼å¼
3. **æ™ºèƒ½è·¯ç”±**: æ ¹æ®æ¨¡å‹è¯·æ±‚æ™ºèƒ½é€‰æ‹©åˆé€‚çš„ Provider
4. **ç»Ÿä¸€æ¥å£**: å¯¹å¤–æä¾›æ ‡å‡†çš„ OpenAI/Anthropic å…¼å®¹ API

## ğŸ”„ æ­£ç¡®çš„æ•°æ®æµ

### å®é™…æ¶æ„æµç¨‹
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    Veloera (æ™ºèƒ½è½¬æ¢å±‚)                      â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚  Provideræ¥å…¥å±‚ (å¤šç§APIæ ¼å¼)                          â”‚ â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚ â”‚
â”‚  â”‚  â”‚  BigGLM     â”‚ â”‚  DeepSeek   â”‚ â”‚      Kimi        â”‚ â”‚ â”‚
â”‚  â”‚  â”‚ (ç‰¹æ®Šæ ¼å¼)   â”‚ â”‚ (OpenAIæ ¼å¼) â”‚ â”‚  (ç‰¹æ®Šæ ¼å¼)      â”‚ â”‚ â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                              â”‚ æ™ºèƒ½è½¬æ¢å’Œè·¯ç”±
â”‚                              â–¼
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚  ç»Ÿä¸€è¾“å‡ºå±‚ (OpenAI/Anthropicå…¼å®¹æ ¼å¼)                 â”‚ â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚ â”‚
â”‚  â”‚  â”‚  /v1/chat/completions (OpenAIæ ¼å¼)                â”‚ â”‚ â”‚
â”‚  â”‚  â”‚  /v1/messages (Anthropicæ ¼å¼)                     â”‚ â”‚ â”‚
â”‚  â”‚  â”‚  è‡ªåŠ¨æ ¼å¼è½¬æ¢ã€é”™è¯¯å¤„ç†ã€æ•…éšœè½¬ç§»                    â”‚ â”‚ â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â”‚ ç»Ÿä¸€APIæ¥å£
                              â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    Mise (é¡¹ç›®ç®¡ç†å±‚)                        â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚  å¼€å‘é¡¹ç›® â”‚  â”‚  å†…å®¹åˆ›ä½œé¡¹ç›®â”‚  â”‚   æ•°æ®åˆ†æé¡¹ç›®      â”‚   â”‚
â”‚  â”‚ glm-4.6     â”‚  â”‚  glm-4.5     â”‚  â”‚     glm-4.6        â”‚   â”‚
â”‚  â”‚ (æ¨¡å‹åå¥½)   â”‚  â”‚  (æ¨¡å‹åå¥½)   â”‚  â”‚    (æ¨¡å‹åå¥½)      â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â”‚ ç¯å¢ƒå˜é‡é…ç½®
                              â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                   CLIå·¥å…·å±‚                                â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚Claude Code  â”‚  â”‚OpenAI Codex â”‚  â”‚     å…¶ä»–CLIå·¥å…·      â”‚   â”‚
â”‚  â”‚    CLI      â”‚  â”‚    CLI       â”‚  â”‚                     â”‚   â”‚
â”‚  â”‚(Anthropic   â”‚  â”‚ (OpenAIæ ¼å¼) â”‚  â”‚  (OpenAI/Anthropic) â”‚   â”‚
â”‚  â”‚ æ ¼å¼)       â”‚  â”‚             â”‚  â”‚     æ ¼å¼)           â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸ§© Veloera çš„è½¬æ¢èƒ½åŠ›

### è¾“å…¥ç«¯ (Provideræ¥å…¥)
- **BigGLM**: `https://open.bigmodel.cn/api/paas/v4` (ç‰¹æ®Šæ ¼å¼ + codingè®¡è´¹è®¡åˆ’)
- **DeepSeek**: `https://api.deepseek.com/v1` (OpenAIå…¼å®¹)
- **Kimi**: `https://api.moonshot.cn/v1` (OpenAIå…¼å®¹)
- **å…¶ä»–Provider**: å„ç§ä¸åŒçš„APIæ ¼å¼

### è½¬æ¢è¿‡ç¨‹
1. **è¯·æ±‚æ¥æ”¶**: æ¥æ”¶æ ‡å‡† OpenAI/Anthropic æ ¼å¼è¯·æ±‚
2. **æ¨¡å‹è§£æ**: è§£æè¯·æ±‚ä¸­çš„æ¨¡å‹åç§° (å¦‚ "glm-4.6", "deepseek-chat")
3. **Provideré€‰æ‹©**: æ ¹æ®æ¨¡å‹åç§°é€‰æ‹©å¯¹åº”çš„Provider
4. **æ ¼å¼è½¬æ¢**: å°†æ ‡å‡†æ ¼å¼è½¬æ¢ä¸ºProviderç‰¹å®šçš„APIæ ¼å¼
5. **è¯·æ±‚è½¬å‘**: å‘é€è½¬æ¢åçš„è¯·æ±‚åˆ°å¯¹åº”Provider
6. **å“åº”è½¬æ¢**: å°†Providerå“åº”è½¬æ¢å›æ ‡å‡†æ ¼å¼
7. **è¿”å›ç»“æœ**: è¿”å›ç»Ÿä¸€çš„å“åº”æ ¼å¼

### è¾“å‡ºç«¯ (ç»Ÿä¸€API)
- **OpenAIå…¼å®¹**: `/v1/chat/completions`
- **Anthropicå…¼å®¹**: `/v1/messages`
- **ç»Ÿä¸€å“åº”æ ¼å¼**: æ ‡å‡†åŒ–çš„JSONå“åº”

## ğŸ”§ å®é™…é…ç½®ç¤ºä¾‹

### Veloera å†…éƒ¨é…ç½® (æ¦‚å¿µä¸Š)
```json
{
  "providers": [
    {
      "name": "bigglm",
      "type": "custom",
      "api_format": "bigglm_special",
      "models": ["glm-4.6", "glm-4.5"],
      "endpoints": {
        "regular": "https://open.bigmodel.cn/api/paas/v4",
        "coding": "https://open.bigmodel.cn/api/coding/paas/v4"
      },
      "billing_plans": ["regular", "coding"]
    },
    {
      "name": "deepseek",
      "type": "openai_compatible",
      "api_format": "openai",
      "models": ["deepseek-chat"],
      "endpoint": "https://api.deepseek.com/v1"
    },
    {
      "name": "kimi",
      "type": "openai_compatible",
      "api_format": "openai",
      "models": ["moonshot-v1-8k"],
      "endpoint": "https://api.moonshot.cn/v1"
    }
  ],
  "routing_rules": {
    "glm-4.6": "bigglm",
    "glm-4.5": "bigglm",
    "deepseek-chat": "deepseek",
    "moonshot-v1-8k": "kimi"
  }
}
```

### CLIå·¥å…·é…ç½® (å®¢æˆ·ç«¯)
```bash
# Claude Code CLI çœ‹åˆ°çš„æ˜¯æ ‡å‡† Anthropic API
ANTHROPIC_API_KEY="sk-your-veloera-api-key"
ANTHROPIC_BASE_URL="http://10.1.1.11:3000/v1"

# OpenAI Codex CLI çœ‹åˆ°çš„æ˜¯æ ‡å‡† OpenAI API
OPENAI_API_KEY="sk-your-veloera-api-key"
OPENAI_BASE_URL="http://10.1.1.11:3000/v1"
```

## ğŸ¯ å…³é”®ä¼˜åŠ¿

### å¯¹CLIå·¥å…·é€æ˜
- **æ— éœ€ä¿®æ”¹**: CLIå·¥å…·ä¸éœ€è¦çŸ¥é“åº•å±‚Providerçš„å¤æ‚æ€§
- **æ ‡å‡†æ¥å£**: ä½¿ç”¨æ ‡å‡†çš„OpenAI/Anthropic APIæ ¼å¼
- **æ— ç¼åˆ‡æ¢**: å¯ä»¥åœ¨ä¸åŒProvideré—´æ— ç¼åˆ‡æ¢

### å¯¹å¼€å‘è€…å‹å¥½
- **ç»Ÿä¸€é…ç½®**: ä¸€å¥—é…ç½®æ”¯æŒå¤šä¸ªProvider
- **æ¨¡å‹åå¥½**: å¯ä»¥æŒ‡å®šé¡¹ç›®åå¥½ä½¿ç”¨çš„æ¨¡å‹
- **æ•…éšœè½¬ç§»**: è‡ªåŠ¨å¤„ç†Provideræ•…éšœ

### å¯¹Providerçµæ´»
- **æ ¼å¼è½¬æ¢**: è‡ªåŠ¨å¤„ç†ä¸åŒProviderçš„APIæ ¼å¼å·®å¼‚
- **ç‰¹æ®Šæ”¯æŒ**: æ”¯æŒBigGLM codingç­‰ç‰¹æ®Šè®¡è´¹è®¡åˆ’
- **æ‰©å±•æ€§å¼º**: è½»æ¾æ·»åŠ æ–°çš„Provider

## ğŸ” å®é™…è¯·æ±‚æµç¨‹

### Claude Code CLI è¯·æ±‚ "glm-4.6"
```
1. Claude Code CLI å‘é€ Anthropic æ ¼å¼è¯·æ±‚
   {
     "model": "glm-4.6",
     "messages": [{"role": "user", "content": "å†™ä»£ç "}],
     "max_tokens": 1000
   }

2. è¯·æ±‚å‘é€åˆ° Veloera (http://10.1.1.11:3000/v1/messages)

3. Veloera è§£ææ¨¡å‹ "glm-4.6" â†’ é€‰æ‹© BigGLM Provider

4. Veloera è½¬æ¢ä¸º BigGLM ç‰¹æ®Šæ ¼å¼
   {
     "model": "glm-4.6",
     "messages": [...],
     "max_tokens": 1000
   }

5. å‘é€åˆ° BigGLM API (https://open.bigmodel.cn/api/paas/v4)

6. BigGLM è¿”å›ç‰¹æ®Šæ ¼å¼å“åº”

7. Veloera è½¬æ¢ä¸ºæ ‡å‡† Anthropic æ ¼å¼

8. è¿”å›ç»™ Claude Code CLI
```

### OpenAI Codex CLI è¯·æ±‚ "deepseek-chat"
```
1. OpenAI Codex CLI å‘é€ OpenAI æ ¼å¼è¯·æ±‚
   {
     "model": "deepseek-chat",
     "messages": [{"role": "user", "content": "å†™ä»£ç "}],
     "max_tokens": 1000
   }

2. è¯·æ±‚å‘é€åˆ° Veloera (http://10.1.1.11:3000/v1/chat/completions)

3. Veloera è§£ææ¨¡å‹ "deepseek-chat" â†’ é€‰æ‹© DeepSeek Provider

4. Veloera è½¬æ¢ä¸º DeepSeek æ ¼å¼ (å·²ç»æ˜¯OpenAIå…¼å®¹)

5. å‘é€åˆ° DeepSeek API (https://api.deepseek.com/v1)

6. DeepSeek è¿”å› OpenAI æ ¼å¼å“åº”

7. Veloera ç›´æ¥è½¬å‘ (æ— éœ€è½¬æ¢)

8. è¿”å›ç»™ OpenAI Codex CLI
```

## âœ… ä¿®æ­£åçš„ç†è§£

Veloera æ˜¯ä¸€ä¸ª**æ™ºèƒ½ API è½¬æ¢å’Œè·¯ç”±æ¢çº½**ï¼š

1. **å‘ä¸Š**: å¯¹ CLI å·¥å…·æä¾›æ ‡å‡†çš„ OpenAI/Anthropic å…¼å®¹æ¥å£
2. **å‘ä¸‹**: æ¥å…¥å„ç§ä¸åŒæ ¼å¼çš„ Provider API
3. **ä¸­é—´**: è´Ÿè´£æ ¼å¼è½¬æ¢ã€è·¯ç”±é€‰æ‹©ã€æ•…éšœè½¬ç§»

è¿™æ ·ï¼ŒCLI å·¥å…·å®Œå…¨ä¸éœ€è¦çŸ¥é“åº•å±‚ä½¿ç”¨äº†å“ªä¸ª Providerï¼ŒVeloera å¤„ç†æ‰€æœ‰çš„å¤æ‚æ€§å’Œè½¬æ¢å·¥ä½œï¼